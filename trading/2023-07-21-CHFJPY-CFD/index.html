
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://chanel.nicholaslyz.com/trading/2023-07-21-CHFJPY-CFD/">
      
      
        <link rel="prev" href="../2023-05-07-trading-bot/">
      
      
      <link rel="icon" href="/static/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.19">
    
    
      
        <title>2023 Jul: CHFJPY CFD - Chanel & Nicholas</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.eebd395e.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
<meta property="robots" content="noindex, nofollow" />

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="cyan" data-md-color-accent="yellow">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#automated-trading-system-with-chfjpy-cfd-8-may-21-jul-2023" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Chanel &amp; Nicholas" class="md-header__button md-logo" aria-label="Chanel & Nicholas" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Chanel & Nicholas
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2023 Jul: CHFJPY CFD
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Chanel &amp; Nicholas" class="md-nav__button md-logo" aria-label="Chanel & Nicholas" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5Z"/></svg>

    </a>
    Chanel & Nicholas
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../story/" class="md-nav__link">
        Story
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Posts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Posts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../posts/2023-05-14%20Cooking%20class/" class="md-nav__link">
        Cooking Class Notes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../posts/trading-bot.md" class="md-nav__link">
        Trading Bot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../posts/2023-02-19-teas/" class="md-nav__link">
        Teas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../posts/2022-12-28-shanmugan-transcript/" class="md-nav__link">
        Shanmugan Video
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../posts/2023-02-06-sweet-potatoes/" class="md-nav__link">
        Sweet Potatoes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Trips
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Trips
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trips/2023-04-07-japan-hiking/" class="md-nav__link">
        2023 Jun: Kamikochi, Japan
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trips/2022-08-22-vietnam/" class="md-nav__link">
        2022 Nov: Vietnam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trips/2022-09-15-bintan/" class="md-nav__link">
        2022 Oct: Bintan
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trips/2022-05-france-nice-hiking/" class="md-nav__link">
        2022 May: Nice, France
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trips/2022-04-09-lazarus-camping/" class="md-nav__link">
        2022 Apr: Lazarus Island
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Trading
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Trading
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2023-05-07-trading-bot/" class="md-nav__link">
        2023 May: Notes
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          2023 Jul: CHFJPY CFD
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        2023 Jul: CHFJPY CFD
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setting-up-an-ibkr-t-reg-margin-account" class="md-nav__link">
    Setting Up an IBKR T Reg Margin Account
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contract-for-difference" class="md-nav__link">
    Contract For Difference
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#commissions" class="md-nav__link">
    Commissions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#margins" class="md-nav__link">
    Margins
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#financing-charges" class="md-nav__link">
    Financing Charges
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#historical-daily-returns" class="md-nav__link">
    Historical Daily Returns
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#our-performance" class="md-nav__link">
    Our Performance
  </a>
  
    <nav class="md-nav" aria-label="Our Performance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#phase-1-sma-apo" class="md-nav__link">
    Phase 1: SMA APO
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-2-kama" class="md-nav__link">
    Phase 2: KAMA
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-3-best" class="md-nav__link">
    Phase 3: BEST
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluation-of-models" class="md-nav__link">
    Evaluation of Models
  </a>
  
    <nav class="md-nav" aria-label="Evaluation of Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overall" class="md-nav__link">
    Overall
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-1" class="md-nav__link">
    Phase 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-2" class="md-nav__link">
    Phase 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-3" class="md-nav__link">
    Phase 3
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#learning-points-rules" class="md-nav__link">
    Learning Points &amp; Rules
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setting-up-an-ibkr-t-reg-margin-account" class="md-nav__link">
    Setting Up an IBKR T Reg Margin Account
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contract-for-difference" class="md-nav__link">
    Contract For Difference
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#commissions" class="md-nav__link">
    Commissions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#margins" class="md-nav__link">
    Margins
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#financing-charges" class="md-nav__link">
    Financing Charges
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#historical-daily-returns" class="md-nav__link">
    Historical Daily Returns
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#our-performance" class="md-nav__link">
    Our Performance
  </a>
  
    <nav class="md-nav" aria-label="Our Performance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#phase-1-sma-apo" class="md-nav__link">
    Phase 1: SMA APO
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-2-kama" class="md-nav__link">
    Phase 2: KAMA
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-3-best" class="md-nav__link">
    Phase 3: BEST
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluation-of-models" class="md-nav__link">
    Evaluation of Models
  </a>
  
    <nav class="md-nav" aria-label="Evaluation of Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overall" class="md-nav__link">
    Overall
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-1" class="md-nav__link">
    Phase 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-2" class="md-nav__link">
    Phase 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-3" class="md-nav__link">
    Phase 3
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#learning-points-rules" class="md-nav__link">
    Learning Points &amp; Rules
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="automated-trading-system-with-chfjpy-cfd-8-may-21-jul-2023">Automated Trading System with CHFJPY CFD 8 May - 21 Jul 2023</h1>
<h2 id="setting-up-an-ibkr-t-reg-margin-account">Setting Up an IBKR T Reg Margin Account</h2>
<ul>
<li>Under the Federal Reserveâ€™s Regulation T, investors can borrow up to 50% of the purchase price of securities.</li>
<li>Minimum deposit for IBKR T Reg Margin Account: 2,000 USD</li>
<li>Transfer funds to the Fsegment in Account to satisfy maintenance margins.</li>
</ul>
<h2 id="contract-for-difference">Contract For Difference</h2>
<ul>
<li>A contract for differences (CFD) is a financial contract that pays the differences in the settlement price between the open and closing trades. There is no delivery of physical goods or securities with CFDs.</li>
<li>There is no ownership of the underlying cost, there is no borrowing or shorting cost.</li>
<li>CFDs are cash-settled but usually allow ample margin trading so that investors need only put up a small amount of the contract's notional payoff.</li>
</ul>
<h2 id="commissions"><a href="https://www.interactivebrokers.co.uk/en/pricing/commissions-cfd-forex.php">Commissions</a></h2>
<p>Commission: Minimum of USD 2 per order</p>
<h2 id="margins"><a href="https://www.interactivebrokers.com.sg/en/index.php?f=4745&amp;p=cfd2">Margins</a></h2>
<p>Since our trading amount is 10,000 CHF (approx. 12,000 USD), we must maintain a minimum initial margin of USD 360. This amount varies depending on the exchange rates.</p>
<table>
<thead>
<tr>
<th>Description</th>
<th>Symbol</th>
<th>Currency</th>
<th>Initial Margin</th>
<th>Maintenance Margin</th>
</tr>
</thead>
<tbody>
<tr>
<td>Swiss franc</td>
<td>CHF.JPY</td>
<td>JPY</td>
<td>3%</td>
<td>3%</td>
</tr>
</tbody>
</table>
<h2 id="financing-charges">Financing Charges</h2>
<p>For positions held overnight, IBKR applies a straightforward interest credit or charge based on the difference in the benchmark rates for the two currencies and a low IB spread.</p>
<p>Based on the live run, the average financing cost per day is 10 JPY &amp; 150 JPY for a long and short position respectively.</p>
<h2 id="historical-daily-returns">Historical Daily Returns</h2>
<ul>
<li>Period: Jan 2020 to Jun 2023 (42 months)</li>
</ul>
<p>The daily returns of CHFJPY have a mean of 0.047% and standard deviation of 0.46%. These statistics validate that the time series is not normally distributed and displays leptokurtic characteristic. It can be inferred that CHFJPY prices are not random. The kurtosis of this distribution of 8.08 is higher than that of the normal distribution. The data analysis ascertains that the presence of fat tails and outliers.</p>
<table>
<thead>
<tr>
<th>Description</th>
<th>Symbol</th>
<th>Currency</th>
<th>Mean Daily Return</th>
<th>Standard Deviation</th>
<th>Skewness</th>
<th>Kurtosis</th>
</tr>
</thead>
<tbody>
<tr>
<td>Swiss franc</td>
<td>CHF.JPY</td>
<td>JPY</td>
<td>0.047%</td>
<td>0.456%</td>
<td>-0.503</td>
<td>5.732</td>
</tr>
</tbody>
</table>
<p><img alt="CHFJPY Distribution" src="../../static/2023-07-21/CHFJPY_Distribution.png" /></p>
<h2 id="our-performance">Our Performance</h2>
<ul>
<li>Period: 8 May to 21 Jul (11 Weeks)</li>
</ul>
<p>We launched the live automated trading system on 8 May and consolidated the results after 11 weeks on 21 Jul. There were a total of 17 trades and we made a profit of 34,000 JPY (approx 240 USD).</p>
<table>
<thead>
<tr>
<th>Trades</th>
<th>Realised P/L</th>
<th>Commission (USD)</th>
<th>Financing Fees (JPY)</th>
</tr>
</thead>
<tbody>
<tr>
<td>17</td>
<td>34,369.86</td>
<td>-44</td>
<td>-5,501</td>
</tr>
</tbody>
</table>
<p>The trading system was executed in three distinct phases with different strategies in each phase.</p>
<table>
<thead>
<tr>
<th>Phase</th>
<th>Strategy</th>
<th>Start Date - End Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>SMA APO (n=30, n_multiplier=3, n_apo_slope=0)</td>
<td>8May-3Jun (4 weeks)</td>
</tr>
<tr>
<td>2</td>
<td>KAMA (n=30, n_multiplier=4, lt_n=190, lt_std=27, st_std=70)</td>
<td>3Jun-28Jun (4 weeks)</td>
</tr>
<tr>
<td>3</td>
<td>BEST (n=30, n_multiplier=3, lt_n=150, lt_std=10, st_std=60)</td>
<td>29Jun-21Jul (3 weeks)</td>
</tr>
</tbody>
</table>
<h3 id="phase-1-sma-apo">Phase 1: SMA APO</h3>
<ul>
<li>Period: 8May-3Jun (4 weeks)</li>
<li>Strategy: SMA APO (n=30, n_multiplier=3, n_apo_slope=0)</li>
</ul>
<table>
<thead>
<tr>
<th>Trades</th>
<th>Realised P/L</th>
<th>Financing Fees</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>-24,300 (-1.6%)</td>
<td>3,972</td>
</tr>
</tbody>
</table>
<p>Due to technical issues, the strategy was not executed properly. It executed only 1 trade even though based on backtesting, it should have executed 24 trades. This was due to the market subscription breaking due to errors. As a result, the engine did not receive any bar updates and the strategy was not executed. This problem was subsequently resolved in the next phase.</p>
<ul>
<li>Backtested chart:
<img alt="Phase 1 Chart" src="../../static/2023-07-21/P1_SmaApo.png" /></li>
</ul>
<h2 id="phase-2-kama">Phase 2: KAMA</h2>
<ul>
<li>Period: 3Jun-28Jun (4 weeks)</li>
<li>Strategy: SMA APO (n=30, n_multiplier=3, n_apo_slope=0)</li>
</ul>
<table>
<thead>
<tr>
<th>Trades</th>
<th>Realised P/L</th>
<th>Financing Fees (JPY)</th>
</tr>
</thead>
<tbody>
<tr>
<td>15</td>
<td>31,200</td>
<td>~1,400</td>
</tr>
</tbody>
</table>
<p>The strategy performed well at the start, recording a gain of JPY 44,850 (2.9%). However, it started recording small consecutive losses which wiped the initial gain. This is due to sudden whipsaws and noise in the data. Hence, a new strategy that is more stable was explored in the Phase 3.</p>
<ul>
<li>Backtested Chart:
<img alt="Phase 2 Chart" src="../../static/2023-07-21/P2_KAMA.png" /></li>
</ul>
<h2 id="phase-3-best">Phase 3: BEST</h2>
<ul>
<li>Period: 29Jun-21Jul (3 weeks)</li>
<li>Strategy: BEST (n=30, n_multiplier=3, lt_n=150, lt_std=10, st_std=60)</li>
</ul>
<table>
<thead>
<tr>
<th>Trades</th>
<th>Realised P/L</th>
<th>Financing Fees (JPY)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>27,469.86 (1.7%)</td>
<td>~200</td>
</tr>
</tbody>
</table>
<p>The new strategy is less reactive and holds positions over longer periods. The comparison of the three strategies is described in the next section.</p>
<ul>
<li>Backtested Chart:
<img alt="Phase 3 Chart" src="../../static/2023-07-21/P3_BEST.png" /></li>
</ul>
<h2 id="evaluation-of-models">Evaluation of Models</h2>
<h3 id="overall">Overall</h3>
<p>For the entire duration from 8May to 21Jul, the BEST strategy outperforms the rest and is the only one that beat the buy and hold strategy though by a small 0.03%.
<img alt="image.png" src="../../static/2023-07-21/Overall_stats.png" /></p>
<h3 id="phase-1">Phase 1</h3>
<p>During phase 1, SmaApo performed very well. However, in the subsequent phases, it resulted in significant losses. It is not as consistent as the other strategies.
<img alt="Phase 1 Strategy Comparison" src="../../static/2023-07-21/P1_stats.png" /></p>
<h3 id="phase-2">Phase 2</h3>
<p>In Phase 2, SmaApo's performance fell to the bottom and the BEST's performance improved significantly. This is probably due to losses suffered during the flat ranging market in the first 2 weeks of June which the strategy could not handle.
<img alt="Phase 2 Strategy Comparison" src="../../static/2023-07-21/P2_stats.png" /></p>
<h3 id="phase-3">Phase 3</h3>
<p>In Phase 3, only the BEST strategy recorded a gain. The remaining two strategies suffered losses.
<img alt="Phase 3 Strategy Comparison" src="../../static/2023-07-21/P3_stats.png" /></p>
<h2 id="learning-points-rules">Learning Points &amp; Rules</h2>
<ol>
<li>Logging is important for validating whether the strategy is being executed as it has been backtested.</li>
<li>No manual take profit/stop loss button.</li>
<li>All new rules must have a 1y backtest with +ve return.</li>
</ol>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "header.autohide"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>